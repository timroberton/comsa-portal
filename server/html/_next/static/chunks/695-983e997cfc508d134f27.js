(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{1203:function(e,n,t){"use strict";t.d(n,{C:function(){return f},z:function(){return g}});var r=t(5893),i=t(6049),a=t(7294),c=t(809),s=t.n(c),l=t(1385),u=t(2447),o=t(6131),d=t(8212),m=t(3384),h=(0,t(8917).kP)("1234567890abcdefghijklmnopqrstuvwxyz",16),x=function(e){var n=(0,a.useState)(e.initialLabel),t=n[0],i=n[1],c=(0,a.useState)(!1),x=c[0],f=c[1];function g(){return(g=(0,u.Z)(s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.trim()){n.next=3;break}return window.alert("You must enter a label"),n.abrupt("return");case 3:return f(!0),r={id:h(),label:t.trim()},i=[].concat((0,l.Z)(e.topics),[r]),n.next=8,(0,o.XG)(i);case 8:if("success"===n.sent){n.next=13;break}return window.alert("Something went wrong. Could not update"),f(!1),n.abrupt("return");case 13:return n.next=15,e.refreshTopics();case 15:e.cancel();case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(){return(p=(0,u.Z)(s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.trim()){n.next=3;break}return window.alert("You must enter a label"),n.abrupt("return");case 3:return f(!0),r=(0,l.Z)(e.topics),(i=r.find((function(n){return n.id===e.id})))&&(i.label=t.trim()),n.next=9,(0,o.XG)(r);case 9:if("success"===n.sent){n.next=14;break}return window.alert("Something went wrong. Could not update"),f(!1),n.abrupt("return");case 14:return n.next=16,e.refreshTopics();case 16:e.cancel();case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(){return(b=(0,u.Z)(s().mark((function n(){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.confirm("Are you sure?")){n.next=2;break}return n.abrupt("return");case 2:return f(!0),t=(0,l.Z)(e.topics),r=t.findIndex((function(n){return n.id===e.id})),t.splice(r,1),n.next=8,(0,o.XG)(t);case 8:if("success"===n.sent){n.next=13;break}return window.alert("Something went wrong. Could not update"),f(!1),n.abrupt("return");case 13:return n.next=15,e.refreshTopics();case 15:e.cancel();case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,r.jsx)(d.u_,{cancel:e.cancel,minWidth:600,children:x?(0,r.jsx)("div",{className:"",children:"Saving..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"ui-form-subheader",children:"Topic label"}),(0,r.jsx)(m.u3,{value:t,onChange:i,autoFocus:!0}),e.isNewTopic?(0,r.jsxs)(d.nK,{children:[(0,r.jsx)(m.y3,{label:"Create new topic",onClick:function(){return g.apply(this,arguments)},color:m.Wo.Green}),(0,r.jsx)(m.y3,{label:"Cancel",onClick:e.cancel,color:m.Wo.Gray,marginLeft:!0})]}):(0,r.jsxs)(d.nK,{children:[(0,r.jsx)(m.y3,{label:"Save",onClick:function(){return p.apply(this,arguments)},color:m.Wo.Blue}),(0,r.jsx)(m.y3,{label:"Cancel",onClick:e.cancel,color:m.Wo.Gray,marginLeft:!0}),(0,r.jsx)("div",{className:"flex-1"}),(0,r.jsx)(m.y3,{label:"Delete this topic",onClick:function(){return b.apply(this,arguments)},color:m.Wo.Red,marginLeft:!0})]})]})})},f=function(e){var n=(0,a.useState)(void 0),t=n[0],c=n[1];return(0,r.jsxs)("div",{className:"px-4 py-4 text-sm",children:[e.nFiltered===e.nTotal?(0,r.jsxs)("div",{className:"",children:["Showing all ",e.nTotal," analyses"]}):(0,r.jsxs)("div",{className:"font-bold text-purple-600",children:["Showing ",e.nFiltered," of ",e.nTotal," analyses"]}),(0,r.jsx)("div",{className:"mt-4 font-bold",children:"Search"}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(m.u3,{value:e.uui.searchText,onChange:function(n){return e.uui.updateSearchText(n)},purple:!0})}),""!==e.uui.searchText&&(0,r.jsx)("span",{className:"flex-none ml-2",children:(0,r.jsx)(m._3,{icon:i.b0D,onClick:e.uui.clearSearchText,color:m.Wo.Purple})})]}),(0,r.jsx)("div",{className:"mt-4 font-bold",children:"Topics"}),e.ut.topics.map((function(n){return(0,r.jsx)(g,{label:n.label,onClick:function(){return e.uui.toggleTopic(n.id)},checked:e.uui.selectedTopic===n.id,edit:e.canEdit?function(){return c(n)}:void 0},n.id)})),e.canEdit&&(0,r.jsx)("span",{className:"inline-block mt-1 ui-link",onClick:function(){return c("new")},children:"New topic"}),e.ua.tags.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mt-4 font-bold",children:"Tags"}),e.ua.tags.map((function(n){return(0,r.jsx)(g,{label:n,onClick:function(){return e.uui.toggleTag(n)},checked:e.uui.selectedTags.includes(n)},n)}))]}),"new"===t&&(0,r.jsx)(x,{cancel:function(){return c(void 0)},isNewTopic:!0,initialLabel:"",topics:e.ut.topics,refreshTopics:e.ut.refreshTopics}),t&&"new"!==t&&(0,r.jsx)(x,{cancel:function(){return c(void 0)},isNewTopic:!1,id:t.id,initialLabel:t.label,topics:e.ut.topics,refreshTopics:e.ut.refreshTopics})]})},g=function(e){return(0,r.jsxs)("div",{className:"flex items-center h-6 mt-1 group",children:[(0,r.jsx)("div",{className:"flex-1 mr-1 truncate text-sm group-hover:font-bold cursor-pointer ".concat(e.checked?"text-purple-600 font-bold":""),onClick:e.onClick,children:e.label}),e.edit&&(0,r.jsx)("div",{className:"flex-none p-0.5 mr-1 ui-btn-lightgray hidden group-hover:inline-block",onClick:e.edit,children:(0,r.jsx)(i.sCx,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"flex-none p-0.5 ".concat(e.checked?"ui-btn-purple":"ui-btn-lightgray"),onClick:e.onClick,children:e.checked?(0,r.jsx)(i.V_R,{className:"w-5 h-5"}):(0,r.jsx)(i.pOD,{className:"w-5 h-5"})})]})}},5876:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var r=t(5893),i=t(3384),a=t(1664),c=t(8080),s=t(1737),l=t(7294),u=t(2067),o=function(e){var n=e.children,t=e.page,o=e.title,d=e.buttons,m=e.uu,h=(0,l.useState)(!1),x=h[0],f=h[1];return(0,r.jsxs)(s.i,{uu:m,children:[(0,r.jsxs)("div",{className:"flex flex-col w-full h-full bg-gray-200 select-none",children:[(0,r.jsx)("nav",{className:"flex-none w-full overflow-y-scroll bg-gray-800 hide-functional-scrollbar",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 xl:px-8 mx-auto max-w-[1500px]",children:[(0,r.jsx)("div",{className:"flex-shrink-0 text-xl font-semibold leading-none tracking-wide text-white",children:"Analysis Portal"}),(0,r.jsxs)("div",{className:"flex items-baseline ml-10",children:[(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("a",{className:"px-3 py-2 cursor-pointer text-sm font-medium ".concat("analyses"==t?"text-white bg-gray-900":"text-gray-300 hover:text-white hover:bg-gray-700"," focus:outline-none "),children:"Analyses"})}),(0,r.jsx)(a.default,{href:"/data",children:(0,r.jsx)("a",{className:"ml-4 px-3 py-2 cursor-pointer text-sm font-medium ".concat("data"==t?"text-white bg-gray-900":"text-gray-300 hover:text-white hover:bg-gray-700"," focus:outline-none "),children:"Data"})}),m.loginState===c.z.LoggedIn&&m.user.isAdmin&&(0,r.jsx)(a.default,{href:"/admin",children:(0,r.jsx)("a",{className:"ml-4 px-3 py-2 cursor-pointer text-sm font-medium ".concat("admin"==t?"text-white bg-gray-900":"text-gray-300 hover:text-white hover:bg-gray-700"," focus:outline-none "),children:"Admin"})})]}),(0,r.jsx)("div",{className:"flex-1"}),m.loginState===c.z.LoggedIn&&(0,r.jsxs)("div",{className:"flex group px-3 py-2 -mr-3 cursor-pointer text-sm font-medium text-blue-300 justify-end",children:[m.user.name,(0,r.jsxs)("div",{className:"absolute z-10 hidden -mr-3 text-right bg-gray-900 shadow-lg mt-7 w-36 group-hover:block",children:[(0,r.jsx)("div",{className:"px-4 py-2.5 text-sm font-medium text-white cursor-pointer hover:bg-gray-700 focus:outline-none",onClick:function(){return f(!0)},children:"Change password"}),(0,r.jsx)("div",{className:"px-4 py-2.5 text-sm font-medium text-white cursor-pointer hover:bg-gray-700 focus:outline-none",onClick:m.logout,children:"Logout"})]})]})]})}),(0,r.jsx)("header",{className:"flex-none w-full overflow-y-scroll bg-white border-b border-gray-200 hide-functional-scrollbar",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 xl:px-8 py-4 mx-auto max-w-[1500px]",children:[(0,r.jsx)("h2",{className:"flex-1 min-w-0 text-2xl font-semibold leading-6 text-gray-900 sm:text-2xl sm:leading-10 sm:truncate",children:o}),d.length>0&&(0,r.jsx)("div",{className:"flex mt-0 ml-4",children:d.map((function(e){return(0,r.jsx)(i.y3,{label:e.label,onClick:e.onClick||void 0,color:e.color||i.Wo.Blue,marginLeft:!0,icon:e.icon},e.label)}))})]})}),(0,r.jsx)("main",{className:"flex-1 w-full h-0 overflow-y-scroll",children:(0,r.jsx)("div",{className:"px-4 xl:px-8 py-6 mx-auto max-w-[1500px]",children:n})})]}),m.loginState===c.z.LoggedIn&&x&&(0,r.jsx)(u.u,{cancel:function(){return f(!1)},email:m.user.email,adminIsChangingPassword:!1})]})}},622:function(e,n,t){"use strict";t.d(n,{V:function(){return i}});var r=t(5893),i=function(e){return(0,r.jsxs)("div",{className:"flex w-full h-full space-x-2 xl:space-x-4",children:[(0,r.jsx)("div",{className:"sticky w-48 h-full bg-white xl:w-64 top-6",children:e.filterControls}),(0,r.jsx)("ul",{className:"flex-1 w-0 h-full px-6 py-2 overflow-hidden bg-white",children:e.children})]})}},8212:function(e,n,t){"use strict";t.d(n,{u_:function(){return a},nK:function(){return c}});var r=t(5893),i=t(7294),a=function(e){var n=(0,i.useRef)(void 0),t=(0,i.useRef)(void 0);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-auto text-svggray",style:{background:"rgba(0,0,0,0.6)"},onMouseDown:function(e){return n.current=e.target},onMouseUp:function(e){return t.current=e.target},onClick:function(r){n.current===t.current&&t.current===r.target&&e.cancel()},children:(0,r.jsx)("div",{className:"relative px-6 py-6 bg-white ui-form-rounded",style:{maxWidth:e.minWidth?void 0:600,width:e.minWidth},onClick:function(e){return e.stopPropagation()},children:e.children})})},c=function(e){return(0,r.jsx)("div",{className:"flex mt-4",children:e.children})}},2067:function(e,n,t){"use strict";t.d(n,{u:function(){return d}});var r=t(809),i=t.n(r),a=t(5893),c=t(2447),s=t(7294),l=t(2224),u=t(8212),o=t(3384),d=function(e){var n=(0,s.useState)(""),t=n[0],r=n[1],d=(0,s.useState)(!1),m=d[0],h=d[1];function x(){return(x=(0,c.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==t.trim()){n.next=3;break}return window.alert("You must enter a new password"),n.abrupt("return");case 3:return h(!0),n.next=6,(0,l.c0)(e.email,t);case 6:if("success"===n.sent){n.next=11;break}return window.alert("Could not reset password"),h(!1),n.abrupt("return");case 11:e.cancel();case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,a.jsx)(u.u_,{cancel:e.cancel,minWidth:600,children:m?(0,a.jsx)("div",{className:"",children:"Saving..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-3 text-xl font-bold",children:e.email}),(0,a.jsx)("div",{className:"ui-form-subheader",children:"New password"}),(0,a.jsx)(o.u3,{type:o.o3.password,value:t,onChange:r,autoFocus:!0}),e.adminIsChangingPassword&&(0,a.jsx)("div",{className:"mt-4 text-sm",children:"After you have saved this new password, you should contact the user, give them the new password you created, and ask them to login with this new password and change their password again themselves."}),(0,a.jsxs)(u.nK,{children:[(0,a.jsx)(o.y3,{label:"Save new password",onClick:function(){return x.apply(this,arguments)},color:o.Wo.Blue}),(0,a.jsx)(o.y3,{label:"Cancel",onClick:e.cancel,color:o.Wo.Gray,marginLeft:!0})]})]})})}},3384:function(e,n,t){"use strict";t.d(n,{Wo:function(){return r},qY:function(){return a},y3:function(){return o},_3:function(){return x},Cj:function(){return f},o3:function(){return h},u3:function(){return g},mA:function(){return p},$j:function(){return b}});var r,i,a,c=t(5893);function s(e){switch(e){case r.Blue:return"ui-btn-blue";case r.Green:return"ui-btn-green";case r.Red:return"ui-btn-red";case r.Orange:return"ui-btn-orange";case r.Gray:return"ui-btn-gray";case r.Purple:return"ui-btn-purple";case r.LightGray:return"ui-btn-lightgray";default:return s(r.LightGray)}}function l(e){switch(e){case i.Small:return"ui-btn-small";case i.Medium:return"ui-btn-medium";case i.Large:return"ui-btn-large";default:return l(i.Medium)}}function u(e){switch(e){case i.Small:return"-ml-0.5 mr-2 h-4 w-4";case i.Medium:return"-ml-1 mr-2 h-5 w-5";case i.Large:return"-ml-1 mr-3 h-5 w-5";default:return u(i.Medium)}}!function(e){e[e.Blue=0]="Blue",e[e.Green=1]="Green",e[e.Gray=2]="Gray",e[e.Red=3]="Red",e[e.Orange=4]="Orange",e[e.LightGray=5]="LightGray",e[e.Purple=6]="Purple"}(r||(r={})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(i||(i={})),function(e){e.Submit="submit"}(a||(a={}));var o=function(e){var n="".concat(e.disabled?"pointer-events-none":""," ").concat(l(e.size)," ").concat(s(e.color)," ").concat(e.marginLeft?"ui-margin-left":"ml-0"," ").concat(e.marginRight?"ui-margin-right":"mr-0").replace(/\s+/g," ").trim();return(0,c.jsx)("button",{className:n,type:e.type||"button",form:e.form,onClick:e.onClick,disabled:e.disabled,children:e.icon?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.icon,{className:u(e.size)})," ",e.label]}):e.label})};function d(e){switch(e){case i.Small:return"ui-iconbtn-small";case i.Medium:return"ui-iconbtn-medium";case i.Large:return"ui-iconbtn-large";default:return d(i.Medium)}}function m(e){switch(e){case i.Small:return"1rem";case i.Medium:return"1.25rem";case i.Large:return"1.5rem";default:return m(i.Medium)}}var h,x=function(e){var n="".concat(d(e.size)," ").concat(s(e.color)," ").concat(e.marginLeft?"ui-margin-left":"ml-0"," ").concat(e.marginRight?"ui-margin-right":"mr-0").replace(/\s+/g," ").trim();return(0,c.jsx)("button",{className:n,type:"button",onClick:e.onClick,children:(0,c.jsx)(e.icon,{className:"",style:{height:m(e.size),width:m(e.size)}})})},f=function(e){var n="".concat(e.purple?"ui-select-purple":"ui-select"," ").concat(e.marginLeft?"ui-margin-left":"ml-0"," ").concat(e.marginRight?"ui-margin-right":"mr-0");return(0,c.jsx)("select",{className:n,value:e.value,onChange:function(n){return e.onChange(n.target.value)},disabled:e.disabled,children:e.options.map((function(e){return(0,c.jsx)("option",{value:e.value,children:e.text},e.value)}))})};!function(e){e.text="text",e.email="email",e.password="password",e.number="number"}(h||(h={}));var g=function(e){var n="".concat(e.purple?"ui-input-purple":"ui-input"," ").concat(e.marginLeft?"ui-margin-left":"ml-0"," ").concat(e.marginRight?"ui-margin-right":"mr-0");return(0,c.jsx)("input",{className:n,type:e.type||h.text,value:e.value,onChange:function(n){return e.onChange(n.target.value)},autoFocus:e.autoFocus,disabled:e.disabled})},p=function(e){var n="".concat(e.inline?"inline-flex mr-6":"flex"," items-center align-bottom justify-start");return(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("input",{id:e.rootId,type:e.radio?"radio":"checkbox",className:e.radio?"ui-radio-icon":"ui-checkbox-icon",checked:e.checked,onChange:function(n){return e.onChange(n.target.checked)}}),(0,c.jsx)("label",{htmlFor:e.rootId,className:"ui-checkbox-label",children:e.label})]})},b=function(e){return(0,c.jsxs)("svg",{className:"inline-block ".concat(w(e.size)," animate-spin text-green-600"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};function w(e){switch(e){case void 0:return"w-12 h-12";case 6:return"w-6 h-6";case 8:return"w-8 h-8";case 10:return"w-10 h-10";case 12:return"w-12 h-12";case 16:return"w-16 h-16";case 24:return"w-24 h-24";default:return"w-6 h-6"}}},1737:function(e,n,t){"use strict";t.d(n,{i:function(){return s}});var r=t(5893),i=t(7294),a=t(8080),c=t(1163),s=function(e){var n=e.children,t=e.uu;return(0,i.useEffect)((function(){t.loginState===a.z.LoggedOut&&c.default.push("/login")}),[t.loginState]),t.loginState===a.z.LoggingOut||t.loginState===a.z.LoggedOut?(0,r.jsx)("div",{className:"px-8 py-6",children:"Logging out..."}):t.loginState===a.z.LoggingIn?(0,r.jsx)("div",{className:"px-8 py-6",children:"Logging in..."}):(0,r.jsx)(r.Fragment,{children:n})}}}]);